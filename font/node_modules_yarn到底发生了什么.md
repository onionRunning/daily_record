### node_modules é‚£äº›ä¸æŸäº›å¼€å‘è€…ä¸å¾—ä¸è¯´çš„äº‹æƒ…

> ***éƒ‘é‡å£°æ˜: æœ¬æ–‡ä»…ä»…ä»£è¡¨ä¸ªäººçš„ä¸€äº›æ¯”è¾ƒæµ…çš„ç†è§£, å¦‚æœæœ‰é”™è¯¯å¸Œæœ›å¤§å®¶æŒ‡å‡º, ä¸è¦å–·æˆ‘ã€‚***

èƒŒæ™¯: yarn.lock,æœ¬æ–‡ä¸»è¦æ˜¯ç”±è¿™ä¸ªå®¶ä¼™å¼€å§‹çš„, æŸæœˆæŸæ—¥æŸé¡¹ç›®ä»£ç çº¿ä¸Šå‡ºç°äº†é—®é¢˜, æ’æŸ¥åŸå› å‘ç°æ˜¯å› ä¸ºlockæ–‡ä»¶è¢«å¹²æ‰äº†(ä¸è¦é—®æˆ‘é—®ä»€ä¹ˆä¼šè¢«å¹²æ‰ å˜¿å˜¿), å¯¼è‡´ä¸€äº›åŒ…é»˜è®¤å‡çº§äº†, ç„¶åapi æ²¡æœ‰å‘ä¸‹å…¼å®¹ äºæ˜¯ä¹ç¨‹åºå°±æŒ‚äº†ã€‚ æˆ‘ç›´æ¥æŒ‡å®šåŒ…ç‰ˆæœ¬å·ä¸è¡Œå—, åŸæ¥çœŸçš„ä¸è¡Œã€‚ å“ˆå“ˆ æœ¬æ–‡å°±å¸¦é¢†ä½ ä»¬å‰–æè¿™ä¸€è¿‡ç¨‹åˆ°åº•æ˜¯æ€æ ·çš„ã€‚


é—®é¢˜å‰ç½®: å¥½å§ä»¥ä¸‹å‡ ä¸ªé—®é¢˜å¤§å®¶æ˜¯å¦éƒ½æ¸…æ¥š,ç„¶åå°±åˆ†æä¸€æ‰‹ã€‚

1. yarn çš„æ—¶å€™åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ

2. package.json é‡Œé¢çš„é…ç½®è¯´æ˜?

3. yarn vs npm , yarn.lock?


### 1. å¹æ°´ç¯‡

æœ‰äººè¿™æ ·åæ§½å‰ç«¯çš„å¼€å‘è€…, æ¯å¤©çš„å·¥ä½œä¸æ˜¯åœ¨ yarn å°±æ˜¯åœ¨ yarn dev ç„¶å yarn build , ä¸ºä»€ä¹ˆä¼šè¢«å¼ æˆ‘åœ¨é˜³å°ä¸Šæƒ³äº†ä¸€ä¸ªæ™šä¸Šï¼ŒçœŸç›¸åªæœ‰ä¸€ä¸ª é‚£å°±æ˜¯æˆ‘ä»¬å¯ä»¥å’Œuiå¦¹å­ç›´æ¥æ¥è§¦ğŸ˜(ç©ç¬‘ç©ç¬‘), ä½†æ˜¯äº‹å®ä¸Š ç¡®å®å°±æ˜¯ä¸yarn ç›¸å…³çš„ä¸€äº›å‘½ä»¤ç¡®å®ä¼šæ¯”è¾ƒè€—æ—¶ã€‚

> è¦æ˜¯ä½ çš„é¡¹ç›®å°±åªæ˜¯å•çº¯çš„ html + js + css ä»€ä¹ˆä¾èµ–åº“éƒ½æ²¡æœ‰, ç”šè‡³éƒ½ä¸éœ€è¦æ‰“åŒ…å‹ç¼©, é‚£å°±å½“æˆ‘æ²¡è¯´ã€‚

äº‹å®ä¸Šéšç€ nodejsçš„å‡ºç° åŠ å¿«äº†å‰ç«¯å·¥ç¨‹åŒ–çš„æ¼”å˜, ç›®å‰çš„å‰ç«¯é¡¹ç›®å¤§å¤šæ•°éƒ½å˜æˆäº†`'src' + node_modules + other_package` è¿™ä¸ªæ ·å­ã€‚

####  1.1 æ¨¡å—åŒ–çš„å‘å±•

- å‡½æ•°åˆ†å—
- AMD CMD è§„èŒƒ
- command.js

#### 1.2 node_modules çš„è®¾è®¡

> å…¶å®å¾ˆå¤šæ—¶å€™æˆ‘ä»¬ä¸å…³å¿ƒè¿‡ç¨‹, æˆ‘åªè¦yarnçš„æ—¶å€™å¾ˆå¿«å°±èƒ½æˆåŠŸã€‚ å½“ç„¶äº‹å®ä¸é¢„æœŸä¸ç¬¦åˆ,ç„¶åå°±åªçœ‹åˆ°å‘½ä»¤è¡Œæœ‰ä¸ªè¿›åº¦æ¡å¥½ä¸å®¹æ˜“å¿«å¥½çš„æ—¶å€™, ç„¶åå°±å¡åœ¨æŸä¸ªåŒ…é‚£é‡Œ, ç„¶åä»”ç»†ä¸€çœ‹æ¯”è¾ƒè‘—åçš„ä»£è¡¨å°±æ˜¯: node-sass å˜¿å˜¿, å½“ç„¶äº† å¦‚æœç½‘ç»œä¸å¥½, ä½ ä¹Ÿä¼šä¸‹è½½å¾ˆé•¿æ—¶é—´ã€‚éš¾é“æˆ‘çš„è¿™äº›åŒ…å°±ä¸èƒ½åƒ golang ä¸€æ ·ï¼Œæ—©å°±æŠŠä¾èµ–ä¸‹è½½åˆ°æœ¬åœ°ç„¶åå¼•ç”¨çš„æ—¶å€™å°±ç›´æ¥ç¦»çº¿ä¸è¡Œå’©ã€‚è¿™ä¸ªä¸nodejsçš„åŒ…ç®¡ç†è®¾è®¡æœ‰å…³ã€‚ æˆ‘ä»¿ä½›å¬åˆ°æœ‰äººè¯´ deno æœ€åä¸€æ®µä¼šç¨å¾®æä¸€ä¸‹å“ˆå“ˆã€‚

- éš¾é“æˆ‘å¤§å‰ç«¯ æ²¡æœ‰è£…ä¾èµ–ç¦»çº¿æƒ…å†µä¸‹å°±ä¸èƒ½å¼€å‘å—? 

å½“ç„¶äº†è‡ªå»ºnpmä»“åº“ä¹Ÿæ˜¯å¯ä»¥è§„é¿è¿™ä¸ªé—®é¢˜çš„, æœ‰æ²¡æœ‰å‘ç°npmçš„åŒ…ä½“ç§¯è¿˜ä¸å°è¯¶, åŠ¨ä¸åŠ¨å‡ åå‡ ç™¾å…†çš„æ ·å­ï¼Œæƒ³æˆ‘ä¸€éƒ¨ç”µå½±ä¹Ÿæ‰å‡ ç™¾å…†(å¼€è½¦å¼€è½¦)





#### 1.3 yarn çš„æ—¶å€™åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆ


### 2. æ‘¸é±¼ç¯‡

#### 2.1 package.json çš„é…ç½®

> è¿™é‡Œè¯´æ˜çš„æ˜¯æ¯”è¾ƒé‡è¦çš„: key-value

```json
{
  // å¯¹å¤–æš´éœ²çš„å¼•ç”¨çš„åœ°å€ 
  "main": "index.js",
  // ä¹¦å†™çš„ç±»å‹
  "types": "index.d.ts",
  // æˆ‘ä»¬å¯¹é¡¹ç›®å·¥ç¨‹è§¦å‘çš„åŸºç¡€å‘½ä»¤ dev start build
  "scripts": {},
  "license": "",
  "devDependencies": {},
  "dependencies": {},
  "peerDependencies": {},  
}
```



#### ä½ ç”¨çš„æ˜¯ yarn å…³æˆ‘ npm ä»€ä¹ˆäº‹,å—¯,cnpmï¼Ÿ



####  deno 


å‚è€ƒæ–‡ç« :
